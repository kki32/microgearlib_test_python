<script src="https://netpie.io/microgear.js"></script>
<script>
    const APPKEY    = "ExhoyeQoTyJS5Ac";
    const APPSECRET = "gzDawaaHRe1KvQhepAw3WYuuGHjBsh";
    const APPID     = "p107microgear";
 
    var origin = "destX";
 
    var microgear = Microgear.create({
        gearkey: APPKEY,
        gearsecret: APPSECRET
    });
 
    microgear.on('message',function(topic,msg) {
        alert(msg);
        //document.getElementById('console').innerHTML += '<br>'+msg;
    });
 
    microgear.on('connected', function() {
        console.log('netpie connected');
        microgear.setname(origin);
        //or you may use subscribe
        //microgear.subscribe("/any/topic/here");
    });
 
    microgear.resettoken(function(err) {
        microgear.connect(APPID);
    });
</script>
 
<div id="console"></div>
